<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barn Buddies - Custom Crochet Horse Toys</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pastel-pink: #FFE1E6;
            --pastel-blue: #E1F0FF;
            --pastel-purple: #F0E1FF;
            --pastel-green: #E1FFE6;
            --pastel-yellow: #FFFAE1;
            --pastel-orange: #FFE8E1;
            --white: #FFFFFF;
            --text-dark: #4A4A4A;
            --text-light: #6B6B6B;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, var(--pastel-pink), var(--pastel-blue), var(--pastel-purple));
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 20px auto;
            max-width: 1200px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-placeholder {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--pastel-pink), var(--pastel-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--text-dark);
            border: 3px solid var(--white);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .brand-name {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--pastel-pink), var(--pastel-purple), var(--pastel-blue));
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 30px;
            align-items: center;
        }

        nav a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        nav a:hover {
            background: linear-gradient(45deg, var(--pastel-pink), var(--pastel-blue));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--pastel-purple), var(--pastel-blue));
            color: var(--text-dark);
            border: 2px solid transparent;
        }

        .btn-secondary {
            background: transparent;
            color: var(--text-dark);
            border: 2px solid var(--pastel-purple);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Main Content */
        main {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 20px auto;
            max-width: 1200px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-height: 60vh;
        }

        /* Home Page */
        .hero {
            text-align: center;
            margin-bottom: 60px;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--pastel-pink), var(--pastel-purple), var(--pastel-blue), var(--pastel-green));
            background-size: 400% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 8s ease infinite;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: var(--text-light);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .feature-card {
            background: linear-gradient(135deg, var(--pastel-pink), var(--pastel-yellow));
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .feature-card:nth-child(2) {
            background: linear-gradient(135deg, var(--pastel-blue), var(--pastel-green));
        }

        .feature-card:nth-child(3) {
            background: linear-gradient(135deg, var(--pastel-purple), var(--pastel-orange));
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        /* Shop Page */
        .shop-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .image-slider {
            background: linear-gradient(135deg, var(--pastel-pink), var(--pastel-blue));
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 40px;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .slider-placeholder {
            text-align: center;
            color: var(--text-dark);
            font-size: 1.2rem;
        }

        .order-form {
            background: linear-gradient(135deg, var(--pastel-yellow), var(--pastel-green));
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-dark);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.8);
            color: var(--text-dark);
            font-size: 1rem;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .checkbox-item:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
        }

        .price-summary {
            background: linear-gradient(135deg, var(--pastel-purple), var(--pastel-pink));
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .price-summary h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        /* Reviews Page */
        .reviews-container {
            display: grid;
            gap: 30px;
        }

        .review-card {
            background: linear-gradient(135deg, var(--pastel-blue), var(--pastel-purple));
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .review-card h4 {
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .stars {
            color: #FFD700;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        /* Auth Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--pastel-pink), var(--pastel-blue));
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            min-width: 400px;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: var(--text-dark);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            .modal-content {
                min-width: 90%;
                margin: 20px;
            }
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Loading spinner */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-placeholder">🐴</div>
                <h1 class="brand-name">Barn Buddies</h1>
            </div>
            
            <nav>
                <ul>
                    <li><a href="#" onclick="showPage('home')">Home</a></li>
                    <li><a href="#" onclick="showPage('shop')">Shop</a></li>
                    <li><a href="#" onclick="showPage('reviews')">Reviews</a></li>
                </ul>
            </nav>

            <div class="auth-buttons">
                <button class="btn btn-secondary" id="loginBtn">Login</button>
                <button class="btn btn-primary" id="signupBtn">Sign Up</button>
                <button class="btn btn-secondary hidden" id="logoutBtn">Logout</button>
                <span class="hidden" id="userEmail"></span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Home Page -->
        <div id="homePage" class="page">
            <section class="hero">
                <h1>Custom Crochet Horse Toys</h1>
                <p>Bringing your beloved horses to life in adorable crochet form! Each toy is lovingly handcrafted to look exactly like your real horse.</p>
                <button class="btn btn-primary" onclick="showPage('shop')">Start Shopping</button>
            </section>

            <section class="features">
                <div class="feature-card">
                    <div class="feature-icon">🧶</div>
                    <h3>Handcrafted with Love</h3>
                    <p>Each toy is carefully crocheted by hand using premium materials to ensure quality and durability.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">🎨</div>
                    <h3>Custom Made</h3>
                    <p>Send us photos of your horse and we'll create a unique toy that captures their special characteristics.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">🚚</div>
                    <h3>Fast Shipping</h3>
                    <p>We offer reliable shipping across South Africa with tracking included for your peace of mind.</p>
                </div>
            </section>
        </div>

        <!-- Shop Page -->
        <div id="shopPage" class="page hidden">
            <div class="shop-header">
                <h2>Custom Horse Toys</h2>
                <p>Upload photos of your horse and choose your extras below</p>
            </div>

            <div class="image-slider">
                <div class="slider-placeholder">
                    <p>📸 Upload your horse photos here</p>
                    <p><small>This slider will showcase your beautiful creations</small></p>
                </div>
            </div>

            <form id="orderForm" class="order-form">
                <div class="form-group">
                    <label for="customerName">Your Name *</label>
                    <input type="text" id="customerName" required>
                </div>

                <div class="form-group">
                    <label for="customerEmail">Email Address *</label>
                    <input type="email" id="customerEmail" required>
                </div>

                <div class="form-group">
                    <label for="horseName">Horse's Name</label>
                    <input type="text" id="horseName" placeholder="What's your horse's name?">
                </div>

                <div class="form-group">
                    <label for="horseDescription">Describe Your Horse</label>
                    <textarea id="horseDescription" rows="4" placeholder="Tell us about your horse's colors, markings, and personality..."></textarea>
                </div>

                <div class="form-group">
                    <label>Choose Your Package:</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="radio" id="toyOnly" name="package" value="toy" checked onchange="updatePrice()">
                            <label for="toyOnly">Crochet Horse Toy Only - Base Price</label>
                        </div>
                        
                        <div class="checkbox-item">
                            <input type="checkbox" id="keyring" value="0" onchange="updatePrice()">
                            <label for="keyring">Add Matching Keyring - FREE!</label>
                        </div>
                        
                        <div class="checkbox-item">
                            <input type="checkbox" id="halter" value="50" onchange="updatePrice()">
                            <label for="halter">Add Miniature Halter - R50.00</label>
                        </div>
                        
                        <div class="checkbox-item">
                            <input type="checkbox" id="nameTag" value="50" onchange="updatePrice()">
                            <label for="nameTag">Add Personalized Name Tag - R50.00</label>
                        </div>
                        
                        <div class="checkbox-item">
                            <input type="checkbox" id="shipping" value="100" onchange="updatePrice()">
                            <label for="shipping">Add Shipping (Flat Rate) - R100.00</label>
                        </div>
                    </div>
                </div>

                <div class="price-summary">
                    <h3>Total: R<span id="totalPrice">0</span></h3>
                    <p><small>Base toy price will be quoted based on size and complexity</small></p>
                </div>

                <div class="form-group">
                    <label for="specialRequests">Special Requests</label>
                    <textarea id="specialRequests" rows="3" placeholder="Any special requests or additional details?"></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; font-size: 1.1rem; padding: 15px;">
                    Submit Order Request
                </button>
            </form>
        </div>

        <!-- Reviews Page -->
        <div id="reviewsPage" class="page hidden">
            <div class="shop-header">
                <h2>Customer Reviews</h2>
                <p>See what our happy customers have to say about their Barn Buddies!</p>
            </div>

            <div class="reviews-container" id="reviewsContainer">
                <div class="review-card">
                    <h4>Sarah Johnson</h4>
                    <div class="stars">★★★★★</div>
                    <p>"Absolutely incredible! The attention to detail on my horse Luna's toy is amazing. It looks exactly like her, from the white blaze to the little sock markings. My daughter is obsessed with it!"</p>
                </div>

                <div class="review-card">
                    <h4>Mike Thompson</h4>
                    <div class="stars">★★★★★</div>
                    <p>"I ordered this as a surprise for my wife after we had to say goodbye to our old boy Charlie. The craftsmanship is outstanding and it brought tears of joy to her eyes. Thank you for creating such a beautiful keepsake."</p>
                </div>

                <div class="review-card">
                    <h4>Emma van der Merwe</h4>
                    <div class="stars">★★★★★</div>
                    <p>"The little halter and name tag additions are so worth it! Storm's mini-me looks perfect sitting on my desk at work. Everyone who sees it wants to order one. Fantastic quality!"</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Login</h2>
            <form id="authForm">
                <div class="form-group">
                    <label for="authEmail">Email</label>
                    <input type="email" id="authEmail" required>
                </div>
                <div class="form-group">
                    <label for="authPassword">Password</label>
                    <input type="password" id="authPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="authSubmitBtn">
                    Login
                </button>
            </form>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-auth-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-firestore-compat.min.js"></script>

    <script>
        // Firebase configuration (you'll need to replace with your actual config)
         const firebaseConfig = {
    apiKey: "AIzaSyClMRMSMVCD0U2B3mS_SimioM46h-n9xmg",
    authDomain: "barn-buddies.firebaseapp.com",
    projectId: "barn-buddies",
    storageBucket: "barn-buddies.firebasestorage.app",
    messagingSenderId: "338583232814",
    appId: "1:338583232814:web:2477b8f67344170069dabf",
    measurementId: "G-7BL4GRBK51"
  };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Global variables
        let currentUser = null;
        let currentPage = 'home';

        // Page navigation
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageName + 'Page').classList.remove('hidden');
            currentPage = pageName;
        }

        // Authentication functions
        function showLoginModal() {
            document.getElementById('modalTitle').textContent = 'Login';
            document.getElementById('authSubmitBtn').textContent = 'Login';
            document.getElementById('authModal').style.display = 'block';
        }

        function showSignupModal() {
            document.getElementById('modalTitle').textContent = 'Sign Up';
            document.getElementById('authSubmitBtn').textContent = 'Sign Up';
            document.getElementById('authModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('authModal').style.display = 'none';
            document.getElementById('authForm').reset();
        }

        function updateAuthUI(user) {
            const loginBtn = document.getElementById('loginBtn');
            const signupBtn = document.getElementById('signupBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const userEmail = document.getElementById('userEmail');

            if (user) {
                loginBtn.classList.add('hidden');
                signupBtn.classList.add('hidden');
                logoutBtn.classList.remove('hidden');
                userEmail.classList.remove('hidden');
                userEmail.textContent = user.email;
                currentUser = user;
            } else {
                loginBtn.classList.remove('hidden');
                signupBtn.classList.remove('hidden');
                logoutBtn.classList.add('hidden');
                userEmail.classList.add('hidden');
                currentUser = null;
            }
        }

        // Price calculation
        function updatePrice() {
            let total = 0;
            
            if (document.getElementById('keyring').checked) {
                total += 0; // Free
            }
            if (document.getElementById('halter').checked) {
                total += 50;
            }
            if (document.getElementById('nameTag').checked) {
                total += 50;
            }
            if (document.getElementById('shipping').checked) {
                total += 100;
            }
            
            document.getElementById('totalPrice').textContent = total;
        }

        // Order submission
        async function submitOrder(orderData) {
            try {
                const orderRef = await db.collection('orders').add({
                    ...orderData,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    status: 'pending',
                    userId: currentUser ? currentUser.uid : null
                });

                // Send confirmation email (this would typically be handled by a Cloud Function)
                console.log('Order submitted with ID:', orderRef.id);
                
                alert('Order submitted successfully! We\'ll contact you within 24 hours with a quote and timeline.');
                document.getElementById('orderForm').reset();
                updatePrice();
                
                return orderRef.id;
            } catch (error) {
                console.error('Error submitting order:', error);
                alert('Error submitting order. Please try again.');
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Auth state listener
            auth.onAuthStateChanged(updateAuthUI);

            // Auth button listeners
            document.getElementById('loginBtn').addEventListener('click', showLoginModal);
            document.getElementById('signupBtn').addEventListener('click', showSignupModal);
            document.getElementById('logoutBtn').addEventListener('click', () => {
                auth.signOut();
            });

            // Auth form submission
            document.getElementById('authForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const email = document.getElementById('authEmail').value;
                const password = document.getElementById('authPassword').value;
                const isLogin = document.getElementById('modalTitle').textContent === 'Login';
                
                const submitBtn = document.getElementById('authSubmitBtn');
                submitBtn.innerHTML = '<span class="loading"></span>';
                
                try {
                    if (isLogin) {
                        await auth.signInWithEmailAndPassword(email, password);
                    } else {
                        await auth.createUserWithEmailAndPassword(email, password);
                    }
                    closeModal();
                } catch (error) {
                    alert(error.message);
                } finally {
                    submitBtn.textContent = isLogin ? 'Login' : 'Sign Up';
                }
            });

            // Order form submission
            document.getElementById('orderForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const orderData = {
                    customerName: document.getElementById('customerName').value,
                    customerEmail: document.getElementById('customerEmail').value,
                    horseName: document.getElementById('horseName').value,
                    horseDescription: document.getElementById('horseDescription').value,
                    addons: {
                        keyring: document.getElementById('keyring').checked,
                        halter: document.getElementById('halter').checked,
                        nameTag: document.getElementById('nameTag').checked,
                        shipping: document.getElementById('shipping').checked
                    },
                    specialRequests: document.getElementById('specialRequests').value,
                    totalExtras: parseInt(document.getElementById('totalPrice').textContent)
                };
                
                await submitOrder(orderData);
            });

            // Close modal when clicking outside
            window.onclick = function(event) {
                const modal = document.getElementById('authModal');
                if (event.target === modal) {
                    closeModal();
                }
            };

            // Initialize price calculation
            updatePrice();
        });
    </script>
</body>
</html>